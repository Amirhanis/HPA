import{y as c,r as A,c as V,w as U,o as r,e as t,b as d,l as M,t as g,g as x,n as q,m as a,v as i,F as z,K as v,Q as p,p as b}from"./app-B3Hywhcu.js";import S from"./UserLayout-DB-WmwPy.js";import"./index-CJXH2dV6.js";import"./Header-CIy7ySJT.js";import"./Footer-D5xW66Ir.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"text-gray-600 body-font relative"},j={class:"container px-5 py-24 mx-auto flex sm:flex-nowrap flex-wrap"},I={class:"lg:w-2/3 md:w-1/2 rounded-lg sm:mr-10 p-10"},P={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},$={class:"w-32 p-4"},D=["src"],F={key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/330px-No-Image-Placeholder.svg.png",alt:"Apple Watch"},Q={class:"px-6 py-4 font-semibold text-gray-900 dark:text-white"},R={class:"px-6 py-4"},N={class:"flex items-center space-x-3"},L=["onClick","disabled"],O=["onUpdate:modelValue"],T=["onClick"],W={class:"px-6 py-4 font-semibold text-gray-900 dark:text-white"},E={class:"px-6 py-4"},K=["onClick"],Z={class:"lg:w-1/3 md:w-1/2 bg-white flex flex-col md:ml-auto w-full md:py-8 mt-8 md:mt-0"},G={class:"leading-relaxed mb-5 text-gray-600"},H={key:0},J={class:"leading-relaxed mb-5 text-gray-600"},X={key:1},Y={class:"relative mb-4"},tt={class:"relative mb-4"},et={class:"relative mb-4"},ot={class:"relative mb-4"},st={class:"relative mb-4"},rt={class:"relative mb-4"},at={class:"relative mb-4"},dt={class:"flex items-center mt-2"},nt={class:"flex items-center mr-4"},it={class:"flex items-center"},lt={key:0,type:"submit",class:"text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg"},ut={key:1,type:"submit",class:"text-white bg-gray-500 border-0 py-2 px-6 focus:outline-none hover:bg-gray-600 rounded text-lg"},bt={__name:"CartList",props:{userAddress:Object},setup(y){const n=c(()=>p().props.cart.data.items),h=c(()=>p().props.cart.data.products),w=c(()=>p().props.cart.data.total),l=u=>n.value.findIndex(e=>e.product_id===u),s=A({address1:null,state:null,city:null,zipcode:null,country_code:null,type:null,payment_method:"stripe"}),k=c(()=>s.address1!==null&&s.state!==null&&s.city!==null&&s.zipcode!==null&&s.country_code!==null&&s.type!==null),f=(u,e)=>b.patch(route("cart.update",u),{quantity:e}),_=u=>b.delete(route("cart.delete",u));function C(){b.visit(route("checkout.store"),{method:"post",data:{carts:p().props.cart.data.items,products:p().props.cart.data.products,total:p().props.cart.data.total,address:s,payment_method:s.payment_method}})}return(u,e)=>(r(),V(S,null,{default:U(()=>[t("section",B,[t("div",j,[t("div",I,[t("table",P,[e[10]||(e[10]=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},[t("span",{class:"sr-only"},"Image")]),t("th",{scope:"col",class:"px-6 py-3"}," Product "),t("th",{scope:"col",class:"px-6 py-3"}," Qty "),t("th",{scope:"col",class:"px-6 py-3"}," Price "),t("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1)),t("tbody",null,[(r(!0),d(z,null,M(h.value,o=>(r(),d("tr",{key:o.id,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[t("td",$,[o.product_images.length>0?(r(),d("img",{key:0,src:o.product_images[0].url||`/${o.product_images[0].image}`,alt:"Apple Watch"},null,8,D)):(r(),d("img",F))]),t("td",Q,g(o.title),1),t("td",R,[t("div",N,[t("button",{onClick:x(m=>f(o,n.value[l(o.id)].quantity-1),["prevent"]),disabled:n.value[l(o.id)].quantity<=1,class:q([n.value[l(o.id)].quantity>1?"cursor-pointer text-purple-600":"cursor-not-allowed text-gray-300 dark:text-gray-500","inline-flex items-center justify-center p-1 text-sm font-medium h-6 w-6 text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"]),type:"button"},e[8]||(e[8]=[t("span",{class:"sr-only"},"Quantity button",-1),t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 1h16"})],-1)]),10,L),t("div",null,[a(t("input",{type:"number",id:"first_product","onUpdate:modelValue":m=>n.value[l(o.id)].quantity=m,class:"bg-gray-50 w-14 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"1",required:""},null,8,O),[[i,n.value[l(o.id)].quantity]])]),t("button",{onClick:x(m=>f(o,n.value[l(o.id)].quantity+1),["prevent"]),class:"inline-flex items-center justify-center h-6 w-6 p-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button"},e[9]||(e[9]=[t("span",{class:"sr-only"},"Quantity button",-1),t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})],-1)]),8,T)])]),t("td",W," RM"+g(o.price),1),t("td",E,[t("a",{onClick:m=>_(o),class:"font-medium text-red-600 dark:text-red-500 hover:underline"},"Remove",8,K)])]))),128))])])]),t("div",Z,[e[23]||(e[23]=t("h2",{class:"text-gray-900 text-lg mb-1 font-medium title-font"},"Summary",-1)),t("p",G,"Total : RM "+g(w.value),1),y.userAddress?(r(),d("div",H,[e[11]||(e[11]=t("h2",{class:"text-gray-900 text-lg mb-1 font-medium title-font"},"Shipping Address",-1)),t("p",J,g(y.userAddress.address1)+" , "+g(y.userAddress.city)+", "+g(y.userAddress.zipcode),1),e[12]||(e[12]=t("p",{class:"leading-relaxed mb-5 text-gray-600"},"or you can add new below",-1))])):(r(),d("div",X,e[13]||(e[13]=[t("p",{class:"leading-relaxed mb-5 text-gray-600"}," Add shipping address to continue",-1)]))),t("form",{onSubmit:x(C,["prevent"])},[t("div",Y,[e[14]||(e[14]=t("label",{for:"name",class:"leading-7 text-sm text-gray-600"},"Address 1",-1)),a(t("input",{type:"text",id:"name",name:"address1","onUpdate:modelValue":e[0]||(e[0]=o=>s.address1=o),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[i,s.address1]])]),t("div",tt,[e[15]||(e[15]=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"City",-1)),a(t("input",{type:"text",id:"email",name:"city","onUpdate:modelValue":e[1]||(e[1]=o=>s.city=o),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[i,s.city]])]),t("div",et,[e[16]||(e[16]=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"State",-1)),a(t("input",{type:"text",id:"email",name:"state","onUpdate:modelValue":e[2]||(e[2]=o=>s.state=o),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[i,s.state]])]),t("div",ot,[e[17]||(e[17]=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"Zipcode",-1)),a(t("input",{type:"text",id:"email",name:"zipcode","onUpdate:modelValue":e[3]||(e[3]=o=>s.zipcode=o),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[i,s.zipcode]])]),t("div",st,[e[18]||(e[18]=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"Country Code",-1)),a(t("input",{type:"text",id:"email",name:"countrycode","onUpdate:modelValue":e[4]||(e[4]=o=>s.country_code=o),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[i,s.country_code]])]),t("div",rt,[e[19]||(e[19]=t("label",{for:"email",class:"leading-7 text-sm text-gray-600"},"Address type",-1)),a(t("input",{type:"text",id:"email",name:"type","onUpdate:modelValue":e[5]||(e[5]=o=>s.type=o),class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[i,s.type]])]),t("div",at,[e[22]||(e[22]=t("label",{class:"leading-7 text-sm text-gray-600"},"Payment Method",-1)),t("div",dt,[t("div",nt,[a(t("input",{id:"payment-stripe",type:"radio",value:"stripe","onUpdate:modelValue":e[6]||(e[6]=o=>s.payment_method=o),name:"payment_method",class:"w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 focus:ring-indigo-500"},null,512),[[v,s.payment_method]]),e[20]||(e[20]=t("label",{for:"payment-stripe",class:"ml-2 text-sm font-medium text-gray-900"},"Stripe / Credit Card",-1))]),t("div",it,[a(t("input",{id:"payment-cod",type:"radio",value:"cod","onUpdate:modelValue":e[7]||(e[7]=o=>s.payment_method=o),name:"payment_method",class:"w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 focus:ring-indigo-500"},null,512),[[v,s.payment_method]]),e[21]||(e[21]=t("label",{for:"payment-cod",class:"ml-2 text-sm font-medium text-gray-900"},"Cash on Delivery (COD)",-1))])])]),k.value||y.userAddress?(r(),d("button",lt,"Checkout")):(r(),d("button",ut,"Add Address to continue"))],32),e[24]||(e[24]=t("p",{class:"text-xs text-gray-500 mt-3"},"Continue Shopping ",-1))])])])]),_:1}))}};export{bt as default};
