import{j as l,h as g,Q as h,k as x,o as s,b as r,e,F as f,l as _,t as d,c as b,w as v,f as y,u as k,i as w,d as i}from"./app-B3Hywhcu.js";const M={key:0,class:"text-gray-600 body-font"},j={class:"container px-5 py-12 mx-auto"},N={class:"flex flex-wrap -m-4"},B={class:"h-full border-2 border-gray-200 border-opacity-60 rounded-lg overflow-hidden relative"},C={class:"absolute top-0 right-0 bg-indigo-500 text-white text-xs px-2 py-1 rounded-bl"},P=["src"],E={key:1,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/330px-No-Image-Placeholder.svg.png",class:"lg:h-48 md:h-36 w-full object-cover object-center",alt:"no image"},F={class:"p-6"},I={class:"tracking-widest text-xs title-font font-medium text-gray-400 mb-1"},D={class:"title-font text-lg font-medium text-gray-900 mb-3"},R={class:"leading-relaxed mb-3 font-semibold text-indigo-600 font-medium"},V={class:"flex items-center flex-wrap"},O={__name:"AiRecommendedProducts",setup(A){const c=l([]),u=l(!0);return g(async()=>{var a,o,t;try{const n=((t=(o=(a=h().props.cart)==null?void 0:a.data)==null?void 0:o.items)==null?void 0:t.map(m=>m.product_id))||[],p=await x.post("/api/ai/recommendations",{cart_items:n});c.value=p.data.data}catch(n){console.error("Failed to fetch recommendations",n)}finally{u.value=!1}}),(a,o)=>c.value.length>0?(s(),r("section",M,[e("div",j,[o[1]||(o[1]=e("div",{class:"flex flex-col text-center w-full mb-10"},[e("h2",{class:"text-xs text-indigo-500 tracking-widest font-medium title-font mb-1"},"AI RECOMMENDED"),e("h1",{class:"sm:text-3xl text-2xl font-medium title-font text-gray-900"},"Picked For You")],-1)),e("div",N,[(s(!0),r(f,null,_(c.value,t=>(s(),r("div",{key:t.id,class:"p-4 md:w-1/4"},[e("div",B,[e("div",C,d(t.reason),1),t.product&&t.product.product_images&&t.product.product_images.length>0?(s(),r("img",{key:0,src:t.product.product_images[0].url||"/"+t.product.product_images[0].image,class:"lg:h-48 md:h-36 w-full object-cover object-center",alt:"product"},null,8,P)):(s(),r("img",E)),e("div",F,[e("h2",I,d(t.product&&t.product.brand?t.product.brand.name:t.product?t.product.category.name:"Category"),1),e("h1",D,d(t.product?t.product.title:"Product "+t.id),1),e("p",R,"RM "+d(t.product?t.product.price:"0.00"),1),e("div",V,[t.product?(s(),b(k(w),{key:0,href:a.route("products.index"),class:"text-indigo-500 inline-flex items-center md:mb-2 lg:mb-0"},{default:v(()=>o[0]||(o[0]=[y("Learn More "),e("svg",{class:"w-4 h-4 ml-2",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14"}),e("path",{d:"M12 5l7 7-7 7"})],-1)])),_:1},8,["href"])):i("",!0)])])])]))),128))])])])):i("",!0)}};export{O as _};
